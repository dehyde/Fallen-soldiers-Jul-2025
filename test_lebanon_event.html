<!DOCTYPE html>
<html>
<head>
    <title>Test Lebanon Event Navigation</title>
</head>
<body>
    <script>
    // Simple test to verify Lebanon ceasefire event is in war-ending events
    fetch('data/timeline-events.csv')
        .then(response => response.text())
        .then(csvText => {
            const lines = csvText.split('\n');
            const headers = lines[0].split(',');
            
            const events = lines.slice(1).filter(line => line.trim()).map(line => {
                const values = line.split(',');
                const event = {};
                headers.forEach((header, index) => {
                    event[header.replace(/"/g, '')] = values[index]?.replace(/"/g, '');
                });
                return event;
            });
            
            console.log('All timeline events:', events.length);
            
            const warEndingEvents = events.filter(event => 
                event.could_have_ended === 'yes' || event.could_have_ended === 'ended_war'
            );
            
            console.log('War-ending events:', warEndingEvents.length);
            warEndingEvents.forEach(event => {
                console.log(`- ID ${event.id}: ${event.title_hebrew} (${event.could_have_ended})`);
            });
            
            const lebanonEvent = events.find(event => event.title_hebrew?.includes('לבנון'));
            if (lebanonEvent) {
                console.log('\nLebanon event found:', lebanonEvent);
                console.log('Could have ended:', lebanonEvent.could_have_ended);
                console.log('Show:', lebanonEvent.show);
            } else {
                console.log('\nLebanon event NOT found!');
            }
        })
        .catch(error => console.error('Error:', error));
    </script>
</body>
</html>